# Чек-лист ручного тестирования (WP-4.4.1)

Проверка сценариев по FR-01–FR-09 (Phase B). Отметка: ✓ пройдено / ✗ не пройдено / — не применимо.

**Предусловия:** PostgreSQL запущен, миграции применены (`src/backend/db/*.sql`), admin создан (`008_admin_user.sql`), SMTP (MailHog/Ethereal) для проверки писем.

---

## FR-01: Управление учётными записями

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-01.1 | Регистрация организатора | Регистрация → роль «Организатор» → имя/название | |
| FR-01.2 | Регистрация участника | Регистрация → роль «Участник» → имя, фамилия | |
| FR-01.3 | Авторизация | Вход по email/паролю → редирект, токен | |
| FR-01.4 | Публичный профиль организатора | Страница /organizers/{id} — название, описание, аватар | |
| FR-01.5 | Администратор через SQL | Скрипт 008_admin_user.sql выполнен, вход под admin | |

---

## FR-02: Управление событиями

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-02.1 | Создание события | Кабинет организатора → название, описание, дата, место, категории | |
| FR-02.2 | Публичность | Публичное/приватное — видимость в каталоге | |
| FR-02.3 | Типы билетов | Минимум один тип, несколько типов, цена, вместимость | |
| FR-02.4 | Загрузка фото | Загрузка изображения при создании события | |
| FR-02.5 | Отмена события | Отмена → уведомление участникам | |

---

## FR-03: Каталог и поиск

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-03.1 | Единый каталог | Главная — список публичных событий | |
| FR-03.2 | Фильтрация по категориям | Выбор категорий — логика OR, архивные участвуют | |
| FR-03.2a | Сортировка | По дате проведения, по дате создания | |
| FR-03.3 | Страница организатора | /organizers/{id} — события организатора | |
| FR-03.4 | Отменённые/заблокированные | Скрыты в каталоге, доступны по прямой ссылке | |
| FR-03.5 | Прошедшие события | Пометка «завершено» | |
| FR-03.6 | Доступ без авторизации | Каталог открыт для гостя | |

---

## FR-04: Регистрация на мероприятия

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-04.1 | Выбор типа билета | Выбор типа при регистрации | |
| FR-04.2 | Ввод данных | ФИО (3 поля), email — обязательны; телефон — опц. | |
| FR-04.3 | Автозаполнение | Залогиненный участник — данные подставляются | |
| FR-04.4 | Запрет дублей | Повторная регистрация с тем же email — ошибка | |
| FR-04.5 | Оплата-заглушка | Платный билет → шаг оплаты (заглушка) | |
| FR-04.6 | Бесплатный билет | Пропуск оплаты, сразу подтверждение | |
| FR-04.7 | Подтверждение по email | Письмо с данными регистрации | |
| FR-04.8 | Один билет на участника | Один участник — один билет на событие | |

---

## FR-05: Управление участниками

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-05.1 | Список участников | Организатор → страница события → таблица участников | |
| FR-05.2 | Чек-ин | Кнопка чек-ин → отметка отображается | |
| FR-05.3 | Отмена организатором | Отмена регистрации → участник удалён из списка | |
| FR-05.4 | Экспорт Excel/PDF | Скачивание — ФИО, email, телефон, статус чек-ина | |

---

## FR-06: Личный кабинет участника

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-06.1 | Мои регистрации | /me/registrations — список регистраций | |
| FR-06.2 | Отмена своей регистрации | Отмена с подтверждением → уведомление организатору | |

---

## FR-07: Уведомления

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-07.1 | Подтверждение регистрации | Email после регистрации | |
| FR-07.2 | Напоминания | За 24 ч и за 1 ч до события (проверить в MailHog) | |
| FR-07.3 | Отмена события | Email участникам при отмене события | |
| FR-07.4 | Отмена участником | Email организатору при отмене участником | |
| FR-07.5 | Блокировка участника | Email организатору при аннулировании регистраций | |

---

## FR-08: Администрирование

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-08.1 | Блокировка события | Admin → модерация → блокировка/разблокировка события | |
| FR-08.2 | Блокировка организатора | Блокировка → события отменяются, уведомления | |
| FR-08.3 | Управление пользователями | Список, блокировка/разблокировка; при блокировке — регистрации аннулируются | |
| FR-08.4 | Управление категориями | CRUD, пометка архивной; архивная недоступна в новых событиях | |

---

## FR-09: Бизнес-правила

| # | Сценарий | Шаги | Результат |
|---|----------|------|-----------|
| FR-09.1 | Ограничение мест | Регистрация закрывается при заполнении capacity | |
| FR-09.2 | Лимиты по типам билетов | Каждый тип — свой лимит; минимум один тип на событие | |

---

## Итог

| FR | Пройдено | Не пройдено |
|----|----------|-------------|
| FR-01 | | |
| FR-02 | | |
| FR-03 | | |
| FR-04 | | |
| FR-05 | | |
| FR-06 | | |
| FR-07 | | |
| FR-08 | | |
| FR-09 | | |

**Критичные дефекты (WP-4.4.2):** исправить до перехода к WP-4.5.
